/*! jQuery carousel - v0.2.1 - 2014-01-25
* https://github.com/amazingSurge/jquery-carousel
* Copyright (c) 2014 amazingSurge; Licensed GPL */
!function(a,b,c,d){"use strict";var e=function(f,g){this.element=f,this.$element=c(f),this.options=c.extend(!0,{},e.defaults,g,this.$element.data());var h=this.options.namespace;this.$element.addClass(h),this.$ul=this.$element.children("ul"),this.$wrap=this.$element.wrap('<div class="'+h+'-wrap" />').parent(),this.current=0,this.view=0,this.navItems=this.options.navItems,this.isMoving=!1,this.onTransition=!1;var i=this;c.extend(i,{init:{prepare:function(a){"function"==typeof i.options.load?i.options.load(i.loadContent):this.run(a)},run:function(a){i.$items=i.$ul.children(),i.itemsLength=i.$items.length,i.transition=i.transition(),i.build(),i.options.pager&&i.pager.setup(),i.options.nav&&i.nav.setup(),i.options.autoplay&&(i.autoplay.enabled=!0,i.autoplay.start()),i.options.keyboard&&(i.$element.trigger("carousel::init",i),i.keyboard(a)),i.options.mousewheel&&i.mousewheel(),i.options.responsive&&i.responsive.init(),i.options.touch&&i.touch.setup(),i.animation.init(),i.$element.on("go",function(a,b){if("undefined"!=typeof b.force&&b.force!==!1||i.view!==b.current||i.isMoving){var c=b.index;i.options.circular&&(i.isMoving?c-=i.offset:(i.$ul.css(i.transition.prefix+"transition-duration",i.options.speed+"ms"),i.offsetNext?c=c-i.offset+i.reserve:i.offsetPrev&&(c=c-i.offset-i.reserve))),i.animation.run(c*i.itemSize),i.view=b.index}})}},loadContent:function(a){var b="";c.each(a,function(a,c){b+=i.options.render(c)}),i.$ul.html(b),i.init.run(i)},build:function(){if(this.$ul.addClass(h+"-items"),"right"===this.options.direction||"left"===this.options.direction?this.direction="horizontal":("top"===this.options.direction||"bottom"===this.options.direction)&&(this.direction="vertical"),this.options.circular){var a=this.$ul.children().clone();this.$ul.append(a),this.$items=this.$ul.children()}if(this.fillGutter(),this.options.circular){for(var b=0;b<this.visibleItems;b++)this.$items=this.$ul.children(),this.$items.last().insertBefore(this.$items.first());this.$ul.css(this.animateProperty,-this.itemSize*this.visibleItems)}else this.$ul.css(this.animateProperty,"0")},getCssVariables:function(){return"horizontal"===this.direction?{viewport:this.$element.width(),item:this.$items.outerWidth(),before:"margin-left",after:"margin-right",animate:"left"}:{viewport:this.$element.height(),item:this.$items.outerHeight(),before:"margin-top",after:"margin-bottom",animate:"top"}},fillGutter:function(){var a=i.getCssVariables();this.visibleItems=Math.floor(a.viewport/a.item),0===this.visibleItems&&(this.visibleItems=1),this.navItems>this.visibleItems||0===this.navItems?this.navItems=this.visibleItems:this.options.navItems<this.visibleItems&&(this.navItem=this.options.navItems);var b=Math.round((a.viewport/this.visibleItems-a.item)/2),c={};0>b&&(b=0),c[a.before]=b,c[a.after]=b,this.$items.css(c),this.itemSize=a.item+2*b,this.viewportSize=a.viewport,this.animateProperty=a.animate,this.offset=-this.visibleItems,this.reserve=this.navItems},pager:{setup:function(){i.currentPager=0,i.$pager=c('<ul class="'+h+'-pager" />'),this.build(),i.$pager.appendTo(i.$wrap),i.pager.bind(),i.pager.active(i.currentPager)},build:function(){for(var a=[],b=Math.ceil(i.itemsLength/i.visibleItems),c=1;b>=c;c++)a+="<li><a href='#'>"+c+"</a>"+"</li>";i.$pager.html(a),i.pager.$items=i.$pager.children()},update:function(){this.build();var a=Math.floor(i.current/i.visibleItems);i.pager.active(a)},bind:function(){i.$pager.on("click","li",function(){var a=c(this).index()*i.visibleItems;if(i.current=a,c(this).index()!==i.pager.$items.length-1||i.options.circular){if(i.options.circular){var b=i.view-a;b>0&&3>=b?(i.offsetPrev=!0,i.offsetNext=!1,i.reserve=b,i.offset-=i.reserve):(i.offsetPrev=!1,i.offsetNext=!0,0>b?(i.reserve=-b,i.offset+=i.reserve):(i.reserve=i.itemsLength-i.view,i.offset=a-i.visibleItems))}}else a=i.itemsLength-i.visibleItems;return i.goTo(a,i.current),!1}),i.$element.on("go",function(a,b){var c=Math.floor(b.current/i.visibleItems);c!==i.currentPager&&i.pager.active(c)})},active:function(a){i.currentPager=a,i.pager.$items.removeClass(h+"-pager-active").eq(a).addClass(h+"-pager-active")}},nav:{setup:function(){i.$nav=c('<div class="'+h+'-nav">'+'<a href="#" class="'+h+'-nav-prev">'+i.options.prevText+"</a>"+'<a href="#" class="'+h+'-nav-next">'+i.options.nextText+"</a>"+"</div>"),i.$nav.appendTo(i.$wrap),i.$nav.on("click","a",function(){return c(this).is("."+h+"-nav-prev")?i.prev(i.navItems):i.next(i.navItems),!1})}},autoplay:{enabled:!1,timeout:null,start:function(){i.options.infinite=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){i.go()},i.options.delay)},stop:function(){clearTimeout(this.timeout)}},responsive:{init:function(){c(a).on("resize",this.resize)},resize:function(){var a=i.visibleItems;if(i.fillGutter(),i.options.pager&&i.pager.update(),i.options.circular){var b=a-i.visibleItems;b>0?(i.offsetNext=!0,i.offsetPrev=!1,i.reserve=b,i.animation.reserve()):0>b&&(i.offsetNext=!1,i.offsetPrev=!0,i.reserve=-b,i.animation.reserve()),i.$ul.css(i.animateProperty,-i.itemSize*i.visibleItems)}else i.$element.trigger("go",{index:i.current,current:i.current,force:!0})}},mousewheel:function(){var a=i.$element.get(0),b=function(a){var b=0;a.preventDefault?a.preventDefault():(a.returnValue=!1,a.cancelBubble=!0),a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3),b>0?i.prev(i.navItems):0>b&&i.next(i.navItems)};i.$element.attr("tabindex","0").on("focus",function(){a.addEventListener?(a.addEventListener("mousewheel",b,!1),a.addEventListener("DOMMouseScroll",b,!1)):a.attachEvent&&a.attachEvent("onmousewheel",b)}).on("blur",function(){a.addEventListener?(a.removeEventListener("mousewheel",b,!1),a.removeEventListener("DOMMouseScroll",b,!1)):a.attachEvent&&a.detachEvent("onmousewheel",b)})},keyboard:function(a){var b;return a._keyboard?(b=c.extend(!0,{},a._keyboard),i.$element.attr("tabindex","0").on("focus",function(){return b.attach({left:function(){i.prev(i.navItems)},right:function(){i.next(i.navItems)},up:function(){i.prev(i.navItems)},down:function(){i.next(i.navItems)}}),!1}).on("blur",function(){b.detach()}),void 0):!1},animation:{init:function(){i.transition.supported&&i.$ul.css(i.transition.prefix+"transition-duration",i.options.speed+"ms").addClass("easing_"+i.options.easing).on(i.transition.end,this.end)},reserve:function(){var a;if(i.offsetNext)for(a=0;a<i.reserve;a++)i.$items=i.$ul.children(),i.$items.first().insertAfter(i.$items.last());else if(i.offsetPrev)for(a=0;a<i.reserve;a++)i.$items=i.$ul.children(),i.$items.last().insertBefore(i.$items.first())},end:function(){i.options.circular&&!i.isMoving&&(i.$ul.css(i.transition.prefix+"transition-duration","0ms").css(i.animateProperty,-i.visibleItems*i.itemSize),i.animation.reserve(),i.onTransition=!1),i.autoplay.enabled&&i.autoplay.start(),i.isMoving=!1},run:function(a){if(i.transition.supported)i.$ul.css(i.animateProperty,-a);else{var b={};b[i.animateProperty]=-a,i.$ul.animate(b,i.options.speed,i.options.easing,this.end)}}},transition:function(){var c,e,f="",g=!1,h=b.createElement("fakeelement"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionend",transition:"transitionend"};for(c in i)if(h.style[c]!==d){e=i[c],g=!0;break}return/(WebKit)/i.test(a.navigator.userAgent)&&(f="-webkit-"),{prefix:f,end:e,supported:g}},touch:{supported:"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch,eventType:function(a){var b={start:this.supported?"touchstart":"mousedown",move:this.supported?"touchmove":"mousemove",end:this.supported?"touchend":"mouseup",cancel:this.supported?"touchcancel":"mouseout"};return b[a]},setup:function(){i.$element.on(this.eventType("start"),c.proxy(this.startTouch,this))},getEvent:function(a){var b=a.originalEvent;return i.touch.supported&&b.touches.length&&b.touches[0]&&(b=b.touches[0]),b},calculate:function(){var a=Math.round(this.posValue*i.visibleItems-i.current);return i.options.circular?i.offset<-i.visibleItems?(a=i.itemsLength-a,i.offset=a-i.visibleItems):i.offset>=i.itemsLength-i.visibleItems?(i.offset=i.offset-i.itemsLength,a=i.offset+i.visibleItems):a=i.view-a:a<=i.visibleItems-i.itemsLength?a=i.itemsLength-1:a>=0&&(a=0),Math.abs(a)},reserve:function(a,b){i.offset!==i.view-b-i.visibleItems&&(i.offset>i.view-b-i.visibleItems?(i.offset-=1,i.offsetNext=!1,i.offsetPrev=!0):i.offset<i.view-b-i.visibleItems&&(i.offset+=1,i.offsetNext=!0,i.offsetPrev=!1),i.reserve=1,i.animation.reserve())},move:function(a){i.options.circular?i.current=0:i.current===i.itemsLength-1&&(i.current=i.itemsLength-i.visibleItems),a=Math.round(100*a)/100;var b=a/100*i.viewportSize-i.current*i.itemSize;if(this.posValue=a/100,this.cancelTransition(),i.options.circular){var c=Math.round(this.posValue*i.visibleItems);this.reserve(a,c),b-=(i.visibleItems+c)*i.itemSize}i.$ul.css(i.animateProperty,b)},startTouch:function(a){if(i.isMoving)return!1;var d=this.getEvent(a);return this.data={},"horizontal"===i.direction?this.data.start=d.pageX:"vertical"===i.direction&&(this.data.start=d.pageY),this.posValue=0,c(b).on(this.eventType("move"),c.proxy(this.moving,this)).on(this.eventType("end"),c.proxy(this.endTouch,this)),i.$element.focus(),!1},moving:function(a){i.$element.addClass(h+"_moving"),i.easingMirror=i.options.easing,i.options.easing="linear";var b=i.$ul.find("a");b.one("click",function(a){a.preventDefault()});var c,d=this.getEvent(a);"horizontal"===i.direction?c=(d.pageX||this.data.start)-this.data.start:"vertical"===i.direction&&(c=(d.pageY||this.data.start)-this.data.start);var e=100*(c/i.viewportSize);return this.move(e),!1},endTouch:function(){if(c(b).off(this.eventType("move")).off(this.eventType("end")),0!==this.posValue){var a=this.calculate();return i.isMoving=!0,this.addTransition(),i.current=a,a!==i.itemsLength-1||i.options.circular||(a=i.itemsLength-i.visibleItems),i.goTo(a,i.current),i.options.easing=i.easingMirror,i.$element.removeClass(h+"_moving"),!1}},cancelTransition:function(){i.$ul.css(i.transition.prefix+"transition-duration","0ms")},addTransition:function(){i.$ul.css(i.transition.prefix+"transition-duration",i.options.speed/2+"ms")}}}),this.init.prepare(this)};e.defaults={namespace:"carousel",autoplay:!1,infinite:!1,circular:!1,delay:4e3,speed:1e3,direction:"right",easing:"linear",pager:!0,nav:!0,navItems:1,prevText:"Previous",nextText:"Next",render:function(a){return'<li><img src="'+a.img+'" alt="" /></li>'},load:null,mousewheel:!0,touch:!0,keyboard:!0,responsive:!0},e.prototype={constructor:e,next:function(a){("undefined"==typeof a||0===a||a>this.visibleItems)&&(a=this.visibleItems);var b=this.view+a;if(b>this.itemsLength-1&&(this.options.infinite?this.options.circular?b-=this.itemsLength:b=0:b=this.itemsLength-1),this.current=b,this.options.circular){if(this.onTransition)return;this.onTransition=!0,this.offset+=a,this.offset+this.visibleItems>=this.itemsLength&&(this.offset=b-this.visibleItems),this.reserve=a,this.offsetNext=!0,this.offsetPrev=!1}else b>=this.itemsLength-this.visibleItems&&(b=this.itemsLength-this.visibleItems,this.view>=this.itemsLength-this.visibleItems&&this.options.infinite?(this.current=0,b=0):this.current=this.itemsLength-1);return this.goTo(b,this.current),!1},prev:function(a){("undefined"==typeof a||0===a||a>this.visibleItems)&&(a=this.visibleItems);var b=this.view-a;if(0>b&&(this.options.infinite?this.options.circular?b+=this.itemsLength:b=this.itemsLength-1:b=0),this.current=b,this.options.circular){if(this.onTransition)return;this.onTransition=!0,this.offset-=a,this.offset<-this.visibleItems&&(this.offset=b-this.visibleItems),this.reserve=a,this.offsetNext=!1,this.offsetPrev=!0}else this.view>0&&this.view<a&&(b=0,this.current=0),b>this.itemsLength-this.visibleItems&&(b=this.itemsLength-this.visibleItems,this.current=this.itemsLength-1);return this.goTo(b,this.current),!1},go:function(){("right"===this.options.direction||"bottom"===this.options.direction)&&this.next(this.navItems),("left"===this.options.direction||"top"===this.options.direction)&&this.prev(this.navItems)},goTo:function(a,b){this.$element.trigger("go",{index:a,current:b})},play:function(){this.autoplay.enabled=!0,this.autoplay.start()},pause:function(){this.autoplay.stop()},stop:function(){this.autoplay.enabled=!1,this.autoplay.stop()},destroy:function(){this.$trigger.remove(),this.$element.data("Carousel",null)}},c.fn.carousel=function(a){if("string"==typeof a){var b=a,f=arguments.length>1?Array.prototype.slice.call(arguments,1):d;return this.each(function(){var a=c.data(this,"carousel");a&&"function"==typeof a[b]&&a[b].apply(a,f)})}return this.each(function(){c.data(this,"carousel")||c.data(this,"carousel",new e(this,a))})}}(window,document,jQuery),function(a,b,c){var d=c(b),e={keys:{UP:38,DOWN:40,LEFT:37,RIGHT:39},map:{},bound:!1,press:function(a){var b=a.keyCode||a.which;return b in e.map&&"function"==typeof e.map[b]&&e.map[b](a),!1},attach:function(a){var b,c;for(b in a)a.hasOwnProperty(b)&&(c=b.toUpperCase(),c in e.keys?e.map[e.keys[c]]=a[b]:e.map[c]=a[b]);e.bound||(e.bound=!0,d.bind("keydown",e.press))},detach:function(){e.bound=!1,e.map={},d.unbind("keydown",e.press)}};d.on("carousel::init",function(a,b){b.options.keyboard===!0&&(b._keyboard=e)})}(window,document,jQuery);